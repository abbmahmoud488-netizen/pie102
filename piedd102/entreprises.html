<!DOCTYPE html>
<html lang="fr" data-ui-lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Entreprises & Secteurs â€“ Module PIE | OFPPT</title>
  <link rel="stylesheet" href="assets/style.css">
  <style>
    /* ====== Extras for Entreprises page ====== */
    .toolbar{ display:flex; gap:12px; flex-wrap:wrap; align-items:center; margin-bottom:18px; }
    .search-input{
      flex:1 1 280px; border:1px solid var(--border); background:var(--panel);
      color:var(--text); padding:10px 12px; border-radius:10px; outline:none;
    }
    .search-input:focus{ box-shadow: var(--ring); }
    .tag-btn{
      border:1px solid var(--border); background:var(--panel); color:var(--muted);
      padding:8px 12px; border-radius:999px; cursor:pointer; user-select:none;
    }
    .tag-btn.active{ background:linear-gradient(135deg,var(--brand),var(--accent)); color:#fff; border-color:transparent; }

    .c-grid{ display:grid; gap:28px; grid-template-columns: repeat(3, minmax(0,1fr)); }
    @media (max-width: 1100px){ .c-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
    @media (max-width: 720px){ .c-grid{ grid-template-columns: 1fr; } }

    .c-card{
      position:relative; overflow:hidden;
      border:1px solid var(--border); border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      box-shadow: var(--shadow); cursor:pointer;
      transition: transform .18s ease, box-shadow .18s ease, background .25s ease;
    }
    .c-card:hover{ transform: translateY(-3px) scale(1.02); box-shadow: 0 12px 40px rgba(0,0,0,.35); }
    .c-img{ width:100%; aspect-ratio:16/9; object-fit:cover; display:block; border-bottom:1px solid var(--border); }
    .c-body{ padding:16px 16px 18px; }
    .c-name{ margin:6px 0 6px; font-weight:900; font-size: clamp(1.05rem, .9rem + .7vw, 1.35rem); }
    .c-desc{ color:var(--muted); margin:0 0 10px; }
    .c-pills{ display:flex; gap:8px; flex-wrap:wrap; }
    .c-pill{ border:1px solid var(--border); background:var(--panel); color:var(--muted); border-radius:999px; padding:6px 10px; font-size:.85rem; }

    .load-more{ display:block; margin:28px auto 0; }

    /* Modal */
    .modal{ position:fixed; inset:0; display:none; place-items:center; padding:18px; background: rgba(0,0,0,.55); z-index:90; }
    .modal.on{ display:grid; }
    .modal-box{
      width:min(900px, 94vw);
      background: linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.03));
      border:1px solid var(--border); border-radius:22px; box-shadow: var(--shadow);
      overflow:hidden;
    }
    .modal-head{ display:flex; align-items:center; justify-content:space-between; gap:16px; padding:16px 18px; border-bottom:1px solid var(--border); }
    .modal-head h3{ margin:0; font-size:1.4rem; }
    .modal-close{ border:1px solid var(--border); background:var(--panel); color:var(--text); border-radius:10px; padding:8px 12px; cursor:pointer; }
    .modal-content{ display:grid; grid-template-columns: 180px 1fr; gap:18px; padding:18px; }
    @media (max-width: 720px){ .modal-content{ grid-template-columns: 1fr; } }
    .modal-img{ width:100%; border-radius:12px; border:1px solid var(--border); background:#0b1220; }
    .story h4{ margin:10px 0 6px; }
    .meta{ display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }
    .meta .pill{ border:1px solid var(--border); background:var(--panel); border-radius:999px; padding:6px 10px; color:var(--muted); }
  </style>
</head>
<body>
  <header class="nav">
    <div class="container nav-inner">
      <a class="brand" href="index.html" aria-label="Accueil">
        <span class="logo" aria-hidden="true">ğŸ§­</span>
        <span>PIE â€¢ OFPPT</span>
      </a>
      <nav class="nav-links">
        <a href="index.html">Intro</a>
        <a href="entrepreneurs.html">Entrepreneurs</a>
        <a href="entreprises.html">Entreprises</a>
        <a href="parcours.html">Mon Parcours</a>
      </nav>
      <div class="controls">
        <button class="lang-switch" data-switch-lang><span class="icon">ğŸŒ</span><span data-lang-pill>FR</span></button>
        <button class="theme-toggle" data-theme-toggle><span class="icon">ğŸŒ“</span> <span data-theme-pill>Dark</span></button>
      </div>
    </div>
  </header>

  <section class="section hero">
    <div class="container">
      <h1><span data-lang="fr">Entreprises & Secteurs</span><span data-lang="ar">Ø§Ù„Ø´Ø±ÙƒØ§Øª ÙˆØ§Ù„Ù‚Ø·Ø§Ø¹Ø§Øª</span></h1>
      <p class="lead max-900"><span data-lang="fr">Panorama des secteurs porteurs (Maroc & Monde) avec Ã©tudes de cas.</span><span data-lang="ar">Ù†Ø¸Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø·Ø§Ø¹Ø§Øª Ø§Ù„Ù‚ÙˆÙŠØ© ÙØ§Ù„Ù…ØºØ±Ø¨ ÙˆØ§Ù„Ø¹Ø§Ù„Ù… Ù…Ø¹ Ø­Ø§Ù„Ø§Øª ØªØ·Ø¨ÙŠÙ‚ÙŠØ©.</span></p>
    </div>
  </section>

  <main class="section">
    <div class="container">
      <!-- ===== Toolbar: search + tag filters ===== -->
      <div class="toolbar">
        <input id="q" class="search-input" placeholder="Rechercher / Ø§Ø¨Ø­Ø« (ex: Ã©nergie, retail, Maroc, SaaSâ€¦)" />
        <button class="tag-btn" data-tag="Maroc">Maroc</button>
        <button class="tag-btn" data-tag="Monde">Monde</button>
        <button class="tag-btn" data-tag="Tech">Tech</button>
        <button class="tag-btn" data-tag="Ã‰nergie">Ã‰nergie</button>
        <button class="tag-btn" data-tag="Agro">Agro</button>
        <button class="tag-btn" data-tag="Industrie">Industrie</button>
        <button class="tag-btn" data-tag="Tourisme">Tourisme</button>
        <button class="tag-btn" data-tag="Services">Services</button>
        <button class="tag-btn" data-clear>Tout / Ø§Ù„ÙƒÙ„</button>
      </div>

      <div class="c-grid" id="c-grid"></div>

      <div class="center">
        <button id="loadMore" class="btn load-more">Charger plus / Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø²ÙŠØ¯</button>
      </div>
    </div>
  </main>

  <!-- ===== Modal ===== -->
  <div class="modal" id="c-modal" aria-hidden="true">
    <div class="modal-box">
      <div class="modal-head">
        <h3 id="m-title">â€”</h3>
        <button class="modal-close" id="m-close">âœ•</button>
      </div>
      <div class="modal-content">
        <img id="m-img" class="modal-img" src="" alt="">
        <div class="story">
          <div class="meta" id="m-tags"></div>

          <h4 data-lang="fr">ModÃ¨le & dÃ©part</h4>
          <h4 data-lang="ar">Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙˆØ§Ù„Ø¨Ø¯Ø§ÙŠØ©</h4>
          <p id="m-start-fr" data-lang="fr"></p>
          <p id="m-start-ar" data-lang="ar"></p>

          <h4 data-lang="fr">Ã‰tapes clÃ©s</h4>
          <h4 data-lang="ar">Ù…Ø±Ø§Ø­Ù„ Ø£Ø³Ø§Ø³ÙŠØ©</h4>
          <ul id="m-steps-fr" data-lang="fr"></ul>
          <ul id="m-steps-ar" data-lang="ar"></ul>

          <h4 data-lang="fr">OpportunitÃ©s & facteurs</h4>
          <h4 data-lang="ar">ÙØ±Øµ ÙˆØ¹ÙˆØ§Ù…Ù„ Ù†Ø¬Ø§Ø­</h4>
          <ul id="m-keys-fr" data-lang="fr"></ul>
          <ul id="m-keys-ar" data-lang="ar"></ul>
        </div>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div data-lang="fr">Fait pour Mahmoud â€¢ OFPPT â€¢ Module PIE â€” Site bilingue (FR/AR).</div>
      <div data-lang="ar">Ù…ØµÙ†ÙˆØ¹ Ù„Ù…Ø­Ù…ÙˆØ¯ â€¢ OFPPT â€¢ ÙˆØ­Ø¯Ø© PIE â€” Ù…ÙˆÙ‚Ø¹ Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù„ØºØ© (ÙØ±Ù†Ø³ÙŠØ©/Ø¹Ø±Ø¨ÙŠØ©).</div>
    </div>
  </footer>

  <script src="assets/app.js"></script>
  <script>
    /* ===== Data des entreprises (ğŸ‡²ğŸ‡¦ + ğŸŒ) =====
       ØµÙˆØ± Ù…Ø¤Ù‚ØªØ© Ø¯Ø§Ø®Ù„ assets/companies/*.jpg â€” Ø¨Ø¯Ù‘Ù„Ù‡Ù… ÙˆÙ‚Øª Ù…Ø§ ØªÙˆÙØ±ÙˆØ§ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠÙŠÙ†.
    */
    const DATA = [
      // ==================== ğŸ‡²ğŸ‡¦ Maroc ====================
      {
        id:'ocp-group', img:'assets/companies/ocp-group.jpg',
        region:'Maroc', sector:'Industrie',
        name:'OCP Group',
        desc_fr:'Phosphates & engrais; intÃ©gration industrielle, R&D et durabilitÃ©.',
        desc_ar:'Ø§Ù„ÙÙˆØ³ÙØ§Ø· ÙˆØ§Ù„Ø£Ø³Ù…Ø¯Ø©Ø› Ø§Ù†Ø¯Ù…Ø§Ø¬ ØµÙ†Ø§Ø¹ÙŠØŒ Ø¨Ø­Ø« ÙˆØªØ·ÙˆÙŠØ± ÙˆØ§Ø³ØªØ¯Ø§Ù…Ø©.',
        tags:['Industrie','Agro','Export'],
        start_fr:'Transformation de la ressource phosphate en chaÃ®ne de valeur dâ€™engrais.',
        start_ar:'ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙÙˆØ³ÙØ§Ø· Ø¥Ù„Ù‰ Ø³Ù„Ø³Ù„Ø© Ù‚ÙŠÙ…Ø© Ù„Ù„Ø£Ø³Ù…Ø¯Ø©.',
        steps_fr:['CapacitÃ© & logistique','Produits Ã  valeur ajoutÃ©e','Initiatives durables'],
        steps_ar:['Ø±ÙØ¹ Ø§Ù„Ø·Ø§Ù‚Ø© ÙˆØ§Ù„Ù„ÙˆØ¬Ø³ØªÙŠÙƒ','Ù…Ù†ØªØ¬Ø§Øª Ø°Ø§Øª Ù‚ÙŠÙ…Ø© Ù…Ø¶Ø§ÙØ©','Ù…Ø¨Ø§Ø¯Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ¯Ø§Ù…Ø©'],
        keys_fr:['IntÃ©gration','Innovation','Supply chain'],
        keys_ar:['Ø§Ù†Ø¯Ù…Ø§Ø¬','Ø§Ø¨ØªÙƒØ§Ø±','Ø³Ù„Ø§Ø³Ù„ Ø§Ù„ØªÙˆØ±ÙŠØ¯']
      },
      {
        id:'maroc-telecom', img:'assets/companies/maroc-telecom.jpg',
        region:'Maroc', sector:'Tech',
        name:'Maroc Telecom',
        desc_fr:'TÃ©lÃ©com fixe/mobile; couverture, qualitÃ© de service et offres packagÃ©es.',
        desc_ar:'Ø§ØªØµØ§Ù„Ø§Øª Ø«Ø§Ø¨ØªØ© ÙˆÙ…ØªØ­Ø±ÙƒØ©Ø› ØªØºØ·ÙŠØ© ÙˆØ¬ÙˆØ¯Ø© ÙˆØ®Ø¯Ù…Ø§Øª Ù…Ø¬Ù…Ø¹Ø©.',
        tags:['Telecom','Tech','Services'],
        start_fr:'Extension du rÃ©seau et services mobiles Ã  grande Ã©chelle.',
        start_ar:'ØªÙˆØ³ÙŠØ¹ Ø§Ù„Ø´Ø¨ÙƒØ© ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…ØªÙ†Ù‚Ù„Ø© Ø¹Ù„Ù‰ Ù†Ø·Ø§Ù‚ ÙˆØ§Ø³Ø¹.',
        steps_fr:['3G/4G/5G','Fibre','Services entreprises'],
        steps_ar:['3G/4G/5G','Ø£Ù„ÙŠØ§Ù Ø¨ØµØ±ÙŠØ©','Ø®Ø¯Ù…Ø§Øª Ù„Ù„Ù…Ù‚Ø§ÙˆÙ„Ø§Øª'],
        keys_fr:['Couverture','FiabilitÃ©','Bundles'],
        keys_ar:['ØªØºØ·ÙŠØ©','Ù…ÙˆØ«ÙˆÙ‚ÙŠØ©','Ø¨Ø§Ù‚Ø§Øª']
      },
      {
        id:'attijariwafa-bank', img:'assets/companies/attijariwafa.jpg',
        region:'Maroc', sector:'Services',
        name:'Attijariwafa Bank',
        desc_fr:'Banque & financement; rÃ©seau panafricain, digitalisation et proximitÃ©.',
        desc_ar:'Ø¨Ù†ÙˆÙƒ ÙˆØªÙ…ÙˆÙŠÙ„Ø› Ø´Ø¨ÙƒØ© Ø¥ÙØ±ÙŠÙ‚ÙŠØ©ØŒ Ø±Ù‚Ù…Ù†Ø© ÙˆÙ‚Ø±Ø¨.',
        tags:['Finance','Services','RÃ©seau'],
        start_fr:'DÃ©veloppement retail & entreprises; offres digitales.',
        start_ar:'ØªØ·ÙˆÙŠØ± Ø®Ø¯Ù…Ø§Øª Ù„Ù„Ø£ÙØ±Ø§Ø¯ ÙˆØ§Ù„Ø´Ø±ÙƒØ§ØªØ› Ø¹Ø±ÙˆØ¶ Ø±Ù‚Ù…ÙŠØ©.',
        steps_fr:['Expansion rÃ©gionale','Plateformes digitales','Partenariats'],
        steps_ar:['ØªÙˆØ³Ø¹ Ø¬Ù‡ÙˆÙŠ','Ù…Ù†ØµØ§Øª Ø±Ù‚Ù…ÙŠØ©','Ø´Ø±Ø§ÙƒØ§Øª'],
        keys_fr:['Distribution','Innovation','Gouvernance'],
        keys_ar:['ØªÙˆØ²ÙŠØ¹','Ø§Ø¨ØªÙƒØ§Ø±','Ø­ÙˆÙƒÙ…Ø©']
      },
      {
        id:'bank-of-africa', img:'assets/companies/boa.jpg',
        region:'Maroc', sector:'Services',
        name:'BMCE Bank of Africa',
        desc_fr:'Banque de rÃ©seau & investissement; ouverture africaine.',
        desc_ar:'Ø¨Ù†ÙˆÙƒ Ø´Ø¨ÙƒØ© ÙˆØ§Ø³ØªØ«Ù…Ø§Ø±Ø› Ø§Ù†ÙØªØ§Ø­ Ø¥ÙØ±ÙŠÙ‚ÙŠ.',
        tags:['Finance','Investissement','Afrique'],
        start_fr:'Positionnement sur les corridors Afrique.',
        start_ar:'ØªÙ…ÙˆÙ‚Ø¹ Ø¹Ù„Ù‰ Ù…Ù…Ø±Ø§Øª Ø¥ÙØ±ÙŠÙ‚ÙŠØ§.',
        steps_fr:['Offres entreprises','Finance verte','Digital'],
        steps_ar:['Ø¹Ø±ÙˆØ¶ Ù„Ù„Ø´Ø±ÙƒØ§Øª','ØªÙ…ÙˆÙŠÙ„ Ø£Ø®Ø¶Ø±','Ø±Ù‚Ù…ÙŠ'],
        keys_fr:['Ancrage rÃ©gional','Innovation','Gestion du risque'],
        keys_ar:['Ø§Ø±ØªÙƒØ§Ø² Ø¬Ù‡ÙˆÙŠ','Ø§Ø¨ØªÙƒØ§Ø±','ØªØ¯Ø¨ÙŠØ± Ø§Ù„Ù…Ø®Ø§Ø·Ø±']
      },
      {
        id:'addoha', img:'assets/companies/addoha.jpg',
        region:'Maroc', sector:'Industrie',
        name:'Addoha (Groupe Anas Sefrioui)',
        desc_fr:'Immobilier & construction; industrialisation du logement.',
        desc_ar:'Ø§Ù„Ø¹Ù‚Ø§Ø± ÙˆØ§Ù„Ø¨Ù†Ø§Ø¡Ø› ØªØµÙ†ÙŠØ¹ Ø§Ù„Ø³ÙƒÙ†.',
        tags:['Immobilier','Construction','CoÃ»ts'],
        start_fr:'Projets de logements accessibles Ã  grande Ã©chelle.',
        start_ar:'Ù…Ø´Ø§Ø±ÙŠØ¹ Ø³ÙƒÙ† ÙÙŠ Ø§Ù„Ù…ØªÙ†Ø§ÙˆÙ„ ÙˆØ¨Ø­Ø¬Ù… ÙƒØ¨ÙŠØ±.',
        steps_fr:['IntÃ©gration construction','Optimisation coÃ»ts','Extension'],
        steps_ar:['Ø¯Ù…Ø¬ Ø­Ù„Ù‚Ø§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡','ØªØ±Ø´ÙŠØ¯ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ','ØªÙˆØ³Ù‘Ø¹'],
        keys_fr:['Process','Prix','Ã‰chelle'],
        keys_ar:['Ø¹Ù…Ù„ÙŠØ§Øª','Ø«Ù…Ù†','Ø­Ø¬Ù…']
      },
      {
        id:'marjane-holding', img:'assets/companies/marjane.jpg',
        region:'Maroc', sector:'Services',
        name:'Marjane Holding',
        desc_fr:'Retail & grande distribution; logistique et expÃ©rience client.',
        desc_ar:'Ø§Ù„ØªØ¬Ø²Ø¦Ø© ÙˆØ§Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„ÙƒØ¨ÙŠØ±Ø› Ù„ÙˆØ¬Ø³ØªÙŠÙƒ ÙˆØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø²Ø¨ÙˆÙ†.',
        tags:['Retail','Distribution','Logistique'],
        start_fr:'DÃ©ploiement dâ€™hypermarchÃ©s & marketplace.',
        start_ar:'Ø¥Ø·Ù„Ø§Ù‚ Ù‡Ø§ÙŠØ¨Ø±Ù…Ø§Ø±ÙƒØ§Øª ÙˆÙ…Ù†ØµØ§Øª Ø¨ÙŠØ¹.',
        steps_fr:['ChaÃ®ne logistique','Marques propres','Digital retail'],
        steps_ar:['Ø³Ù„Ø³Ù„Ø© Ù„ÙˆØ¬Ø³ØªÙŠØ©','Ø¹Ù„Ø§Ù…Ø§Øª Ø®Ø§ØµØ©','ØªØ¬Ø²Ø¦Ø© Ø±Ù‚Ù…ÙŠØ©'],
        keys_fr:['OpÃ©rations','Choix','Prix'],
        keys_ar:['ØªØ´ØºÙŠÙ„','Ø§Ø®ØªÙŠØ§Ø±','Ø«Ù…Ù†']
      },
      {
        id:'afriquia-gaz', img:'assets/companies/afriquia-gaz.jpg',
        region:'Maroc', sector:'Ã‰nergie',
        name:'Afriquia Gaz',
        desc_fr:'Ã‰nergie (GPL); rÃ©seau, sÃ©curitÃ© et service.',
        desc_ar:'Ø§Ù„Ø·Ø§Ù‚Ø© (ØºØ§Ø² Ø§Ù„Ø¨ÙˆØªØ§Ù†/Ø§Ù„Ø¨Ø±ÙˆØ¨Ø§Ù†)Ø› Ø´Ø¨ÙƒØ©ØŒ Ø³Ù„Ø§Ù…Ø© ÙˆØ®Ø¯Ù…Ø©.',
        tags:['Ã‰nergie','Distribution','SÃ©curitÃ©'],
        start_fr:'RÃ©seau de distribution & logistique GPL.',
        start_ar:'Ø´Ø¨ÙƒØ© ØªÙˆØ²ÙŠØ¹ ÙˆÙ„ÙˆØ¬Ø³ØªÙŠÙƒ Ø§Ù„ØºØ§Ø².',
        steps_fr:['QualitÃ© & sÃ©curitÃ©','Couverture nationale','Solutions pro'],
        steps_ar:['Ø¬ÙˆØ¯Ø© ÙˆØ³Ù„Ø§Ù…Ø©','ØªØºØ·ÙŠØ© ÙˆØ·Ù†ÙŠØ©','Ø­Ù„ÙˆÙ„ Ù„Ù„Ù…Ø­ØªØ±ÙÙŠÙ†'],
        keys_fr:['FiabilitÃ©','RÃ©seau','SAV'],
        keys_ar:['Ù…ÙˆØ«ÙˆÙ‚ÙŠØ©','Ø´Ø¨ÙƒØ©','Ø®Ø¯Ù…Ø© Ù…Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ¹']
      },
      {
        id:'inwi', img:'assets/companies/inwi.jpg',
        region:'Maroc', sector:'Tech',
        name:'Inwi',
        desc_fr:'TÃ©lÃ©com & data; offres mobiles, fixes & cloud.',
        desc_ar:'Ø§ØªØµØ§Ù„Ø§Øª ÙˆØ¨ÙŠØ§Ù†Ø§ØªØ› Ø¹Ø±ÙˆØ¶ Ù…ÙˆØ¨Ø§ÙŠÙ„ ÙˆØ«Ø§Ø¨Øª ÙˆØ³Ø­Ø§Ø¨Ø©.',
        tags:['Telecom','Cloud','Tech'],
        start_fr:'Positionnement challenger & innovation dâ€™offres.',
        start_ar:'ØªÙ…ÙˆÙ‚Ø¹ ÙƒÙ…Ù†Ø§ÙØ³ ÙˆØ§Ø¨ØªÙƒØ§Ø± ÙÙŠ Ø§Ù„Ø¹Ø±ÙˆØ¶.',
        steps_fr:['4G/5G','Datacenters','Offres entreprises'],
        steps_ar:['4G/5G','Ù…Ø±Ø§ÙƒØ² Ø¨ÙŠØ§Ù†Ø§Øª','Ø¹Ø±ÙˆØ¶ Ù„Ù„Ø´Ø±ÙƒØ§Øª'],
        keys_fr:['Prix','Innovation','ExpÃ©rience'],
        keys_ar:['Ø§Ù„Ø«Ù…Ù†','Ø§Ø¨ØªÙƒØ§Ø±','ØªØ¬Ø±Ø¨Ø©']
      },
      {
        id:'royal-air-maroc', img:'assets/companies/ram.jpg',
        region:'Maroc', sector:'Services',
        name:'Royal Air Maroc',
        desc_fr:'Compagnie aÃ©rienne; hub rÃ©gional, flotte & expÃ©rience passager.',
        desc_ar:'Ø´Ø±ÙƒØ© Ø§Ù„Ø·ÙŠØ±Ø§Ù† Ø§Ù„ÙˆØ·Ù†ÙŠØ©Ø› Ù…Ø­ÙˆØ± Ø¬Ù‡ÙˆÙŠØŒ Ø£Ø³Ø·ÙˆÙ„ ÙˆØªØ¬Ø±Ø¨Ø© Ù…Ø³Ø§ÙØ±.',
        tags:['Transport','Tourisme','Logistique'],
        start_fr:'Hub Casablanca & liaisons Afrique-Europe.',
        start_ar:'Ù…Ø­ÙˆØ± Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ ÙˆØ±Ø¨Ø· Ø¥ÙØ±ÙŠÙ‚ÙŠØ§ Ø¨Ø£ÙˆØ±ÙˆØ¨Ø§.',
        steps_fr:['Modernisation flotte','Alliances','Digitalisation'],
        steps_ar:['ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø³Ø·ÙˆÙ„','ØªØ­Ø§Ù„ÙØ§Øª','Ø±Ù‚Ù…Ù†Ø©'],
        keys_fr:['RÃ©seau','PonctualitÃ©','Service'],
        keys_ar:['Ø´Ø¨ÙƒØ©','Ø§Ù†Ø¶Ø¨Ø§Ø·','Ø®Ø¯Ù…Ø©']
      },
      {
        id:'saham-group', img:'assets/companies/saham.jpg',
        region:'Maroc', sector:'Services',
        name:'Saham Group',
        desc_fr:'Assurance & services; investissement et diversification.',
        desc_ar:'ØªØ£Ù…ÙŠÙ†Ø§Øª ÙˆØ®Ø¯Ù…Ø§ØªØ› Ø§Ø³ØªØ«Ù…Ø§Ø± ÙˆØªÙ†ÙˆÙŠØ¹.',
        tags:['Assurance','Services','Investissement'],
        start_fr:'DÃ©veloppement assurance puis diversification.',
        start_ar:'ØªØ·ÙˆÙŠØ± Ø§Ù„ØªØ£Ù…ÙŠÙ† Ø«Ù… Ø§Ù„ØªÙ†ÙˆÙŠØ¹.',
        steps_fr:['Croissance organique','Partenariats','Investissements'],
        steps_ar:['Ù†Ù…Ùˆ Ø¹Ø¶ÙˆÙŠ','Ø´Ø±Ø§ÙƒØ§Øª','Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§Øª'],
        keys_fr:['Gestion','MarchÃ©s','Capitaux'],
        keys_ar:['ØªØ³ÙŠÙŠØ±','Ø£Ø³ÙˆØ§Ù‚','Ø±Ø¤ÙˆØ³ Ø£Ù…ÙˆØ§Ù„']
      },

      // ==================== ğŸŒ Ã‰trangÃ¨res ====================
      {
        id:'amazon', img:'assets/companies/amazon.jpg',
        region:'Monde', sector:'Services',
        name:'Amazon',
        desc_fr:'Retail & cloud; obsession client, logistique et marketplace.',
        desc_ar:'ØªØ¬Ø²Ø¦Ø© ÙˆØ³Ø­Ø§Ø¨Ø©Ø› Ù‡ÙˆØ³ Ø¨Ø§Ù„Ø²Ø¨ÙˆÙ†ØŒ Ù„ÙˆØ¬Ø³ØªÙŠÙƒ ÙˆÙ…Ù†ØµØ©.',
        tags:['Retail','Plateforme','Logistique'],
        start_fr:'Librairie en ligne â†’ diversification produits.',
        start_ar:'Ù…ÙƒØªØ¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Øª â†’ ØªÙ†ÙˆÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª.',
        steps_fr:['Prime & AWS','RÃ©seau logistique','Marketplace globale'],
        steps_ar:['Ø¨Ø±Ø§ÙŠÙ… ÙˆAWS','Ø´Ø¨ÙƒØ© Ù„ÙˆØ¬Ø³ØªÙŠÙƒ','Ø³ÙˆÙ‚ Ø¹Ø§Ù„Ù…ÙŠØ©'],
        keys_fr:['Client first','OpÃ©rations','Long terme'],
        keys_ar:['Ø§Ù„Ø²Ø¨ÙˆÙ† Ø£ÙˆÙ„Ø§Ù‹','ØªØ´ØºÙŠÙ„','Ø¨Ø¹ÙŠØ¯ Ø§Ù„Ù…Ø¯Ù‰']
      },
      {
        id:'tesla', img:'assets/companies/tesla.jpg',
        region:'Monde', sector:'Ã‰nergie',
        name:'Tesla',
        desc_fr:'VÃ©hicules Ã©lectriques & Ã©nergie; intÃ©gration batterie-logiciel.',
        desc_ar:'Ø³ÙŠØ§Ø±Ø§Øª ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ© ÙˆØ·Ø§Ù‚Ø©Ø› Ø¯Ù…Ø¬ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ§Øª.',
        tags:['Ã‰nergie','Auto','Tech'],
        start_fr:'De prototypes Ã  production de masse.',
        start_ar:'Ù…Ù† Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ù„Ù„Ø¥Ù†ØªØ§Ø¬ Ø§Ù„ÙƒØ¨ÙŠØ±.',
        steps_fr:['Gigafactories','Autopilot','Stockage Ã©nergie'],
        steps_ar:['Ù…ØµØ§Ù†Ø¹ Ø¹Ù…Ù„Ø§Ù‚Ø©','Ù‚ÙŠØ§Ø¯Ø© Ø°Ø§ØªÙŠØ©','ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø·Ø§Ù‚Ø©'],
        keys_fr:['Innovation','Ã‰chelle','Marque'],
        keys_ar:['Ø§Ø¨ØªÙƒØ§Ø±','Ø­Ø¬Ù…','Ø¹Ù„Ø§Ù…Ø©']
      },
      {
        id:'spacex', img:'assets/companies/spacex.jpg',
        region:'Monde', sector:'Industrie',
        name:'SpaceX',
        desc_fr:'AÃ©rospatial; rÃ©utilisation des lanceurs & cadence.',
        desc_ar:'Ø§Ù„ÙØ¶Ø§Ø¡Ø› Ø¥Ø¹Ø§Ø¯Ø© Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ø§Ù„ØµÙˆØ§Ø±ÙŠØ® ÙˆØªØ³Ø±ÙŠØ¹ Ø§Ù„ÙˆØªÙŠØ±Ø©.',
        tags:['Spatial','IngÃ©nierie','Scale'],
        start_fr:'Contrats cargo â†’ vols habitÃ©s.',
        start_ar:'Ø¹Ù‚ÙˆØ¯ Ø´Ø­Ù† â†’ Ø±Ø­Ù„Ø§Øª Ù…Ø£Ù‡ÙˆÙ„Ø©.',
        steps_fr:['Falcon rÃ©utilisable','Starlink','Starship'],
        steps_ar:['ÙØ§Ù„ÙƒÙˆÙ† Ù‚Ø§Ø¨Ù„ Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…','Ø³ØªØ§Ø±Ù„ÙŠÙ†Ùƒ','Ø³ØªØ§Ø±Ø´ÙŠØ¨'],
        keys_fr:['CoÃ»ts bas','R&D','ExÃ©cution'],
        keys_ar:['ØªÙƒÙ„ÙØ© Ù…Ù†Ø®ÙØ¶Ø©','Ø¨Ø­Ø« ÙˆØªØ·ÙˆÙŠØ±','ØªÙ†ÙÙŠØ°']
      },
      {
        id:'microsoft', img:'assets/companies/microsoft.jpg',
        region:'Monde', sector:'Tech',
        name:'Microsoft',
        desc_fr:'Logiciels, cloud & plateforme; standard PC et Ã©cosystÃ¨me.',
        desc_ar:'Ø¨Ø±Ù…Ø¬ÙŠØ§ØªØŒ Ø³Ø­Ø§Ø¨Ø© ÙˆÙ…Ù†ØµØ©Ø› Ù…Ø¹ÙŠØ§Ø± Ø§Ù„Ø­ÙˆØ§Ø³ÙŠØ¨ ÙˆÙ…Ù†Ø¸ÙˆÙ…Ø©.',
        tags:['Logiciel','Cloud','Plateforme'],
        start_fr:'BASIC â†’ MS-DOS â†’ Windows puis cloud.',
        start_ar:'Ø¨ÙŠØ³ÙŠÙƒ â†’ Ø¥Ù… Ø¥Ø³ Ø¯ÙˆØ³ â†’ ÙˆÙŠÙ†Ø¯ÙˆØ² Ø«Ù… Ø§Ù„Ø³Ø­Ø§Ø¨Ø©.',
        steps_fr:['Suite & serveurs','Azure','IA & copilotes'],
        steps_ar:['Ø­Ø²Ù…Ø© ÙˆØ®ÙˆØ§Ø¯Ù…','Ø£Ø²ÙˆØ±','Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ'],
        keys_fr:['Distribution','Licensing','Ã‰cosystÃ¨me'],
        keys_ar:['ØªÙˆØ²ÙŠØ¹','ØªØ±Ø®ÙŠØµ','Ù…Ù†Ø¸ÙˆÙ…Ø©']
      },
      {
        id:'meta', img:'assets/companies/meta.jpg',
        region:'Monde', sector:'Tech',
        name:'Facebook (Meta)',
        desc_fr:'RÃ©seaux sociaux & plateformes; publicitÃ© et crÃ©ateurs.',
        desc_ar:'Ø´Ø¨ÙƒØ§Øª Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© ÙˆÙ…Ù†ØµØ§ØªØ› Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆÙ…Ø¨Ø¯Ø¹ÙŠÙ†.',
        tags:['Social','Plateforme','Ads'],
        start_fr:'RÃ©seau universitaire â†’ grand public.',
        start_ar:'Ø´Ø¨ÙƒØ© Ø¬Ø§Ù…Ø¹ÙŠØ© â†’ Ø¹Ù…ÙˆÙ… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†.',
        steps_fr:['News Feed','Mobile-first','VR/AR'],
        steps_ar:['Ø§Ù„Ø®Ù„Ø§ØµØ§Øª','Ù…ÙˆØ¨Ø§ÙŠÙ„ Ø£ÙˆÙ„Ø§Ù‹','ÙˆØ§Ù‚Ø¹ Ø§ÙØªØ±Ø§Ø¶ÙŠ/Ù…Ø¹Ø²Ù‘Ø²'],
        keys_fr:['RÃ©seau','RÃ©tention','MonÃ©tisation'],
        keys_ar:['ØªØ£Ø«ÙŠØ± Ø§Ù„Ø´Ø¨ÙƒØ©','Ø§Ø­ØªÙØ§Ø¸','ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø¯Ø®Ù„']
      },
      {
        id:'alibaba', img:'assets/companies/alibaba.jpg',
        region:'Monde', sector:'Services',
        name:'Alibaba Group',
        desc_fr:'E-commerce, paiements & logistique; focus PME.',
        desc_ar:'ØªØ¬Ø§Ø±Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©ØŒ Ù…Ø¯ÙÙˆØ¹Ø§Øª ÙˆÙ„ÙˆØ¬Ø³ØªÙŠÙƒØ› ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ù€PME.',
        tags:['E-commerce','Fintech','Logistique'],
        start_fr:'B2B â†’ B2C & paiements.',
        start_ar:'Ù…Ù† B2B Ø¥Ù„Ù‰ B2C ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª.',
        steps_fr:['Alipay','RÃ©seau logistique','Globalisation'],
        steps_ar:['Ø£Ù„ÙŠØ¨Ø§ÙŠ','Ø´Ø¨ÙƒØ© Ù„ÙˆØ¬Ø³ØªÙŠÙƒ','Ø¹ÙˆÙ„Ù…Ø©'],
        keys_fr:['Effet rÃ©seau','Ã‰cosystÃ¨me','ExÃ©cution'],
        keys_ar:['ØªØ£Ø«ÙŠØ± Ø§Ù„Ø´Ø¨ÙƒØ©','Ù…Ù†Ø¸ÙˆÙ…Ø©','ØªÙ†ÙÙŠØ°']
      },
      {
        id:'google', img:'assets/companies/google.jpg',
        region:'Monde', sector:'Tech',
        name:'Google (Alphabet Inc.)',
        desc_fr:'Recherche, publicitÃ© & cloud; donnÃ©es et IA.',
        desc_ar:'Ø¨Ø­Ø«ØŒ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆØ³Ø­Ø§Ø¨Ø©Ø› Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ.',
        tags:['Search','Ads','Cloud'],
        start_fr:'PageRank â†’ moteur global.',
        start_ar:'PageRank â†’ Ù…Ø­Ø±Ùƒ Ø¹Ø§Ù„Ù…ÙŠ.',
        steps_fr:['Ads & YouTube','Android & cloud','IA'],
        steps_ar:['Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆÙŠÙˆØªÙŠÙˆØ¨','Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯ ÙˆØ§Ù„Ø³Ø­Ø§Ø¨Ø©','Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ'],
        keys_fr:['DonnÃ©es','Vitesse','Plateformes'],
        keys_ar:['Ø¨ÙŠØ§Ù†Ø§Øª','Ø³Ø±Ø¹Ø©','Ù…Ù†ØµÙ‘Ø§Øª']
      },
      {
        id:'apple', img:'assets/companies/apple.jpg',
        region:'Monde', sector:'Industrie',
        name:'Apple Inc.',
        desc_fr:'MatÃ©riel + logiciel; design & Ã©cosystÃ¨me intÃ©grÃ©.',
        desc_ar:'Ø¹ØªØ§Ø¯ + Ø¨Ø±Ù…Ø¬ÙŠØ§ØªØ› ØªØµÙ…ÙŠÙ… ÙˆÙ…Ù†Ø¸ÙˆÙ…Ø© Ù…ØªÙƒØ§Ù…Ù„Ø©.',
        tags:['Produit','Design','Ã‰cosystÃ¨me'],
        start_fr:'Mac â†’ iPod â†’ iPhone â†’ services.',
        start_ar:'Ù…Ø§Ùƒ â†’ Ø¢ÙŠØ¨ÙˆØ¯ â†’ Ø¢ÙŠÙÙˆÙ† â†’ Ø®Ø¯Ù…Ø§Øª.',
        steps_fr:['App Store','SoC maison','Services'],
        steps_ar:['Ù…ØªØ¬Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª','Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ø®Ø§ØµØ©','Ø®Ø¯Ù…Ø§Øª'],
        keys_fr:['UX','Marque','IntÃ©gration'],
        keys_ar:['ØªØ¬Ø±Ø¨Ø©','Ø¹Ù„Ø§Ù…Ø©','ØªÙƒØ§Ù…Ù„']
      },
      {
        id:'virgin', img:'assets/companies/virgin.jpg',
        region:'Monde', sector:'Services',
        name:'Virgin Group',
        desc_fr:'ConglomÃ©rat (musique, aÃ©rien, espaceâ€¦); marque & aventure.',
        desc_ar:'ØªÙƒØªÙ‘Ù„ (Ù…ÙˆØ³ÙŠÙ‚Ù‰ØŒ Ø·ÙŠØ±Ø§Ù†ØŒ ÙØ¶Ø§Ø¡â€¦); Ø¹Ù„Ø§Ù…Ø© ÙˆØ±ÙˆØ­ Ù…ØºØ§Ù…Ø±Ø©.',
        tags:['Brand','AÃ©rien','Diversification'],
        start_fr:'Retail musique â†’ compagnies & extensions.',
        start_ar:'ØªØ¬Ø²Ø¦Ø© Ù…ÙˆØ³ÙŠÙ‚ÙŠØ© â†’ Ø´Ø±ÙƒØ§Øª ÙˆØªÙˆØ³Ù‘Ø¹Ø§Øª.',
        steps_fr:['Marketing audacieux','Nouvelles industries','Partenariats'],
        steps_ar:['ØªØ³ÙˆÙŠÙ‚ Ø¬Ø±ÙŠØ¡','ØµÙ†Ø§Ø¹Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©','Ø´Ø±Ø§ÙƒØ§Øª'],
        keys_fr:['Marque','Risque','ExpÃ©rience'],
        keys_ar:['Ø¹Ù„Ø§Ù…Ø©','Ù…Ø®Ø§Ø·Ø±Ø©','ØªØ¬Ø±Ø¨Ø©']
      },
      {
        id:'netflix', img:'assets/companies/netflix.jpg',
        region:'Monde', sector:'Services',
        name:'Netflix',
        desc_fr:'Streaming vidÃ©o; contenu original & abonnement.',
        desc_ar:'Ø¨Ø« ÙÙŠØ¯ÙŠÙˆØ› Ù…Ø­ØªÙˆÙ‰ Ø£ØµÙ„ÙŠ ÙˆØ§Ø´ØªØ±Ø§Ùƒ.',
        tags:['Media','Streaming','SaaS'],
        start_fr:'DVD par courrier â†’ streaming global.',
        start_ar:'DVD Ø¨Ø§Ù„Ø¨Ø±ÙŠØ¯ â†’ Ø¨Ø« Ø¹Ø§Ù„Ù…ÙŠ.',
        steps_fr:['Algorithmes reco','Production originale','Globalisation'],
        steps_ar:['Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø§Ù„ØªÙˆØµÙŠØ©','Ø¥Ù†ØªØ§Ø¬ Ø£ØµÙ„ÙŠ','Ø¹ÙˆÙ„Ù…Ø©'],
        keys_fr:['Contenu','Tech','Distribution'],
        keys_ar:['Ù…Ø­ØªÙˆÙ‰','ØªÙ‚Ù†ÙŠØ©','ØªÙˆØ²ÙŠØ¹']
      }
    ];

    /* ===== Render ===== */
    const grid = document.getElementById('c-grid');
    const q = document.getElementById('q');
    const loadMoreBtn = document.getElementById('loadMore');
    const tagButtons = Array.from(document.querySelectorAll('.tag-btn[data-tag]'));
    const clearBtn = document.querySelector('.tag-btn[data-clear]');

    let activeTags = new Set();  // filters
    let page = 1;                // pagination
    const PAGE_SIZE = 6;

    function pill(t){ return `<span class="c-pill">${t}</span>`; }
    function card(it){
      return `
      <article class="c-card" data-id="${it.id}">
        <img class="c-img" src="${it.img}" alt="">
        <div class="c-body">
          <h3 class="c-name">${it.name}</h3>
          <p class="c-desc" data-lang="fr">${it.desc_fr}</p>
          <p class="c-desc" data-lang="ar">${it.desc_ar}</p>
          <div class="c-pills">${it.tags.map(pill).join('')}</div>
        </div>
      </article>`;
    }

    function matches(item, query){
      const hay = (item.name+' '+item.desc_fr+' '+item.desc_ar+' '+item.region+' '+item.sector+' '+item.tags.join(' ')).toLowerCase();
      const okQ = !query || hay.includes(query.toLowerCase());
      const okTags = activeTags.size===0 || [...activeTags].every(t => (item.tags.includes(t) || item.region===t || item.sector===t));
      return okQ && okTags;
    }

    function render(){
      const query = q.value.trim();
      const filtered = DATA.filter(d => matches(d, query));
      const total = filtered.length;
      const slice = filtered.slice(0, PAGE_SIZE * page);
      grid.innerHTML = slice.map(card).join('');
      loadMoreBtn.style.display = (slice.length < total) ? 'inline-flex' : 'none';
    }

    q.addEventListener('input', ()=>{ page=1; render(); });
    tagButtons.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const tag = btn.dataset.tag;
        if(activeTags.has(tag)){ activeTags.delete(tag); btn.classList.remove('active'); }
        else{ activeTags.add(tag); btn.classList.add('active'); }
        page=1; render();
      });
    });
    clearBtn.addEventListener('click', ()=>{
      activeTags.clear(); tagButtons.forEach(b=>b.classList.remove('active'));
      q.value=''; page=1; render();
    });
    loadMoreBtn.addEventListener('click', ()=>{ page++; render(); });

    render();

    /* ===== Modal logic ===== */
    const modal = document.getElementById('c-modal');
    const closeBtn = document.getElementById('m-close');
    const mTitle = document.getElementById('m-title');
    const mImg   = document.getElementById('m-img');
    const mTags  = document.getElementById('m-tags');
    const mStartFr = document.getElementById('m-start-fr');
    const mStartAr = document.getElementById('m-start-ar');
    const mStepsFr = document.getElementById('m-steps-fr');
    const mStepsAr = document.getElementById('m-steps-ar');
    const mKeysFr  = document.getElementById('m-keys-fr');
    const mKeysAr  = document.getElementById('m-keys-ar');

    function ul(items){ return items.map(x=>`<li>${x}</li>`).join(''); }

    grid.addEventListener('click', (e)=>{
      const card = e.target.closest('.c-card');
      if(!card) return;
      const it = DATA.find(x=>x.id===card.dataset.id);
      if(!it) return;
      mTitle.textContent = it.name;
      mImg.src = it.img;
      mTags.innerHTML = it.tags.map(t=>`<span class="pill">${t}</span>`).join('');
      mStartFr.textContent = it.start_fr;
      mStartAr.textContent = it.start_ar;
      mStepsFr.innerHTML = ul(it.steps_fr);
      mStepsAr.innerHTML = ul(it.steps_ar);
      mKeysFr.innerHTML = ul(it.keys_fr);
      mKeysAr.innerHTML = ul(it.keys_ar);
      modal.classList.add('on');
      modal.setAttribute('aria-hidden','false');
    });

    function close(){ modal.classList.remove('on'); modal.setAttribute('aria-hidden','true'); }
    closeBtn.addEventListener('click', close);
    modal.addEventListener('click', (e)=>{ if(e.target===modal) close(); });
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') close(); });
  </script>
</body>
</html>
